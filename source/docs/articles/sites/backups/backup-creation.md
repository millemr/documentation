---
title: Backup Creation
description: Detailed information on how to create a backup of any Drupal or WordPress site environment.
category:
  - managing
keywords: backup, backup creation, create a backup, create backup, create backups, backups, code, database, files, access backups, where are backups stored, backups stored, backup archive, access archives, access archive
---
Pantheon makes backups of an environment a simple and easy one-click operation. A backup is made up of three separate archives: a _database_ backup, a _files_ backup, and a _code_ backup.

<div class="alert alert-danger" role="alert"><strong>Warning:</strong> Backups need to be run separately for each environment (Dev, Test, and Live). If you have changes in SFTP mode that you have not committed, these changes WILL BE LOST and there will be no way to recover them. The backups are based on the code currently in the git log.</div>

## Steps

1. [Start](/docs/articles/sites/backups/backup-creation#creating-a-backup#start-backup) your backup in the Backups tab by pressing the **Create New Backup** button.
2. [Relax](/docs/articles/sites/backups/backup-creation#creating-a-backup#relax) as your backup is made. Track it in the progress indicator.
3. After completion, you can [access your backups.](/docs/articles/sites/backups/backup-creation#creating-a-backup#access)
 ![Create Backup](/source/docs/assets/images/desk_images/305275.png)
You will notice the job indicator will turn green and provide the number of active jobs.
 ![](/source/docs/assets/images/desk_images/305276.png)
<div class="alert alert-info" role="alert">
<strong>Note</strong>: There is no need to worry; you can carry on with development. We built the Dashboard to handle these type of interactions so you can focus on site development.</div>

## Accessing Backups  
When the backup has finished, the jobs indicator will return to its start state letting you know that the active task is complete. You will notice a new backup in your log with three separate archives (Code, Database and Files).
 ![](/source/docs/assets/images/desk_images/305286.png)
The newest backup will appear at the top of the list, with the name of the environment as well as the time since that backup was created. When the retention period expires for a particular backup, it will no longer be in the list of available archives.  


Clicking on the down arrow next to the Code, DB, or Files for a particular backup will give you access to links for the offsite backup.

Now that you have created the archive files you can check out how to [Restore an environment from a backup](/docs/articles/sites/backups/restoring-an-environment-from-a-backup#restoring-an-environment-from-a-backup).

<div class="alert alert-warning" role="alert">
<strong>Note</strong>: Links to backups are signed URLs directly from Amazon S3 and will expire. If a link has expired, go back to the Dashboard and get a new link to the archive. <a href="http://stackoverflow.com/a/4649553">Check this documentation for more information about signed URLS</a>.</div>

## Frequently Asked Questions

#### Where are the backups stored?

Backups are currently stored offsite for redundancy on Amazon EC2 instances.

### How do I restore from my site from a full environment backup?

In the event that you need to get your site to a certain point you can use a [full backup to restore an environment](/docs/articles/sites/backups/restoring-an-environment-from-a-backup#restoring-an-environment-from-a-backup).

#### How long does a backup take?

This depends on how much content you have. When you are doing a full environment backup this can take some time depending on the size of your code, database, and files.

#### How can I specify the time for my backups to run?

Daily backups are run at a random time during the day. You can select the day to run weekly backups by using the Dashboard but this requires a site to have an associated plan. See [selecting a plan](/docs/articles/sites/settings/selecting-a-plan/) for details about site plans on Pantheon.

#### What timezone is the backup time marked in?

Backups are shown in your timezone.

#### Why do my automated backups not run when I scheduled them to run sometimes?

If Pantheon's resources are occupied by other backups, your backup will be placed in backup queue to await its turn. The time that the backup is actually run will be shown in the backups label.

#### What's included in a backup?

Backups include your entire codebase, everything that's been committed. Uncommitted SFTP changes are not backed up. Your database is backed up in the form of a MySQL dump. Various content generated by your application is not backed up e.g. generated images from image styles and aggregated CSS & JS assets.

### Drupal Note
In the `sites/default/files` directory, the following items are not backed up:

- `/styles`
- `/css`
- `/js`
- `/backup_migrate`
- `/private/backup_migrate`
- `/imagecache`

Within the code, Pantheon uses a [.gitignore file](https://github.com/pantheon-systems/drops-7/blob/master/.gitignore). It contains a list of directories that are ignored while backing up code.

### WordPress Note
In the `wp-content` directory, the following items are not backed up:

- `/uploads`
- `/blogs.dir`
- `/upgrade`
- `/backup-db`

Within the code, Pantheon uses a [.gitignore file](https://github.com/pantheon-systems/WordPress/blob/master/.gitignore). It contains a list of directories that are ignored while backing up code.

#### Drupal Note: Why is Backup & Migrate not recommended on Pantheon?

As a product in general, Backup & Migrate is perfectly fine and fulfills many site owners’ needs, but within the context of the Pantheon platform it’s not recommended. On Pantheon, ​​Backup & Migrate can make your Drupal site work harder for a number of reasons:

- Requires a full Drupal bootstrap
- Monopolizes an appserver process and MySQL process while running
- Backups are written to Valhalla, our Network File System that is not optimized for large files (and explicitly does not work for files above 256MB)
- Does not use mysqldump by default (it is available as an experimental destination)
- Can cause excessively long Drupal Cron runs, which if it times out blocks other operations
- Creates monolithic archives by default

Additionally, security vulnerabilities can be introduced by ignoring interface warnings and configuring backups to be placed in web accessible locations.

In comparison, Pantheon’s backup mechanism:

- Does not require a full, or any, Drupal bootstrap
- Does not utilize an appserver process
- Does not write to Valhalla, so no file size limitation; instead, stores backups in Amazon S3 for black-swan redundancy
- Uses mysqldump for minimal database impact
- Executed using job scheduling, so will wait in queue if system is busy and execute as soon as its ready
- Creates distinct archives (code, database, files)
- Secures access to archives through Pantheon authentication (no anonymous user can access)

Additionally, you can manually trigger a full Pantheon backup job for any site environment at any time on your own schedule using [terminus](https://github.com/pantheon-systems/cli) and can directly get S3 download links for retrieval (the links have a timed expiration and must be renewed for additional security).
```html
terminus site backup <get|load|create|list> [--site=<site>] [--env=<env>]
[--element=<code|files|db|all>] [--to-directory=<directory>] [--latest]
[--keep-for]
```
